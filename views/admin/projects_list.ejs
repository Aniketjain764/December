<%- include('partials/header') %>

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Projects</h2>
        <a href="/admin/projects/add" class="btn btn-primary">Add New Project</a>
    </div>

    <table class="table table-striped table-hover align-middle shadow-sm bg-white rounded">
        <thead class="table-dark">
            <tr>
                <th scope="col" style="width: 25%;">Title</th>
                <th scope="col" style="width: 40%;">Description</th>
                <th scope="col" style="width: 20%;">Image</th>
                <th scope="col" style="width: 15%;" class="text-end">Actions</th>
            </tr>
        </thead>
        <tbody>
            <% if (projects.length> 0) { %>
                <% projects.forEach(project=> { %>
                    <tr>
                        <td class="fw-bold">
                            <%= project.title %>
                        </td>
                        <td class="text-secondary">
                            <%= project.description %>
                        </td>
                        <td>
                            <% if (project.image_url) { %>
                                <img src="<%= project.image_url %>" alt="<%= project.title %>" class="img-thumbnail"
                                    style="height: 60px; widht: auto; object-fit: cover;">
                                <% } else { %>
                                    <span class="badge bg-light text-dark border">No Image</span>
                                    <% } %>
                        </td>
                        <td class="text-end">
                            <% if (project.link) { %>
                                <a href="<%= project.link %>" target="_blank" class="btn btn-sm btn-outline-info me-1"
                                    title="View Link">View</a>
                                <% } %>
                                    <a href="/admin/projects/delete/<%= project.id %>"
                                        class="btn btn-sm btn-outline-danger"
                                        onclick="return confirm('Are you sure you want to delete this project?')">Delete</a>
                        </td>
                    </tr>
                    <% }); %>
                        <% } else { %>
                            <tr>
                                <td colspan="4" class="text-center py-4 text-muted">No projects found. Add one to get
                                    started!</td>
                            </tr>
                            <% } %>
        </tbody>
    </table>

    <%- include('partials/footer') %>